
IMPROVES - 
 TESTS-
  - divide describes into it's
  - run all of the tests from tests.test.ts and not test calling test
  
remove variables from process env


TODO: on ws connection: create a {socketId, socket} and push to db

Bugs:
 - getusermedia err on join room
 - error on leave. enter video room with no video 



V leave room
V mute
V stop video
V  share screen
  change host
  lock room + limit

change volume to others
mute others
outer room chat
inroom chat
add user as friend
block user


# cleanup ws+peer
# make limit to room.
3. otherUser's profile doesnt change on the second click.
5. validation for inputs

9. joined participants somehow send stream twice
8. improve redirection to VideoRoom and profiles (route).
6. make chosen room participants update on realtime.
# unknown mongo error when creating a room
3. detect the reason that cause the mongo db to lack data(collections)
2. server peer of our own
1. check why user._id in user state (client) doesn't exist all the time.{to check the user after login , register and refresh(app)-client}


//  DataConnection:
// ===============

//   //create peer hendlers
//   mypeer.on("connection", (conn) => {
//     conn.on("data", function (data) {
//         console.log("received message from peer connection:", data);
//     });
// });

// //calling all parrticipents
// room.participants?.forEach((roomMate: any) => {
//     console.log(roomMate);
//     const connection = mypeer.connect(roomMate.peerId);
//     connection.on("open", () => {
//         console.log("connecting to", roomMate.peerId);
//         connection.send("Hey, we've just connected");
//     });
// });