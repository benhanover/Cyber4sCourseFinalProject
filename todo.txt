
IMPROVES - 
 TESTS-
  - divide describes into it's
  - run all of the tests from tests.test.ts and not test calling test
  
remove variables from process env


TODO: on ws connection: create a {socketId, socket} and push to db
1. check why user._id in user state (client) dont exist all the time.{to check the user after login , register and refresh(app)-client}
2. server peer
3. detect the reason that cause the mongo db to lack data(collections)
4. when refreshing access tokens make sure to delete from data base
5. validation for inputs
6. make chosen room participants update on realtime.
7. update the room ufter adding a participent, in vedioroom component(at the moment only rooms in loby update)
8. improve redirection to VideoRoom (route).
9. joined participants somehow send stream twice
10. when fail to add new room should not get the user inside the videoRoom
11. BIG-ISSUE: when having refresh token and accessToken expired the server creates a new accessToken even if the refreshToken does not exist in db.


1. create a user state when logged or register
2. add participant and host properties on the room object,that contains socket id & user id
3. otherUser's profile doesnt change on the second click.

comment/code 
=========================================================================================================


//  DataConnection:
// ===============

//   //create peer hendlers
//   mypeer.on("connection", (conn) => {
//     conn.on("data", function (data) {
//         console.log("received message from peer connection:", data);
//     });
// });

// //calling all parrticipents
// room.participants?.forEach((roomMate: any) => {
//     console.log(roomMate);
//     const connection = mypeer.connect(roomMate.peerId);
//     connection.on("open", () => {
//         console.log("connecting to", roomMate.peerId);
//         connection.send("Hey, we've just connected");
//     });
// });